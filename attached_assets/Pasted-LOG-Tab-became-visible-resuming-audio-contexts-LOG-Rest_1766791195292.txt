LOGğŸ“± Tab became visible - resuming audio contexts...
LOGğŸ¤ Restarting voice recognition after tab visibility change
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGğŸ¤ Starting ElevenLabs STT for mobile... [object Object]
LOGğŸ¤ Stopping ElevenLabs STT...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT WebSocket connected successfully
LOGğŸ“± Microphone warmed up successfully
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGâš ï¸ ElevenLabs STT in incomplete/stale state - cleaning up and restarting
LOGğŸ¤ Starting ElevenLabs STT for mobile... [object Object]
LOGğŸ¤ Stopping ElevenLabs STT...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT WebSocket closed
LOGğŸ—£ï¸ Audio-only greeting: Hey! Shawn here. Let's make this conversation actionable. Jump in at any point. What brings you in?
LOGğŸ¤ Fetching greeting audio from ElevenLabs...
LOGğŸ”Š Acknowledgment pre-cache triggered for: shawn (already cached)
LOGğŸ¤ ElevenLabs STT WebSocket connected successfully
LOGğŸ”Š Acknowledgment audio preloaded for: shawn
LOGğŸ¤ ElevenLabs STT ready - starting microphone
LOGğŸ¤ Requesting microphone access for ElevenLabs STT...
LOGğŸ¤ ElevenLabs STT microphone listening
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Greeting audio response status: 200
LOGğŸ¤ Greeting audio blob size: 89906 bytes, type: audio/mpeg
LOGğŸ¤ Attempting to play greeting audio...
ERRORğŸ¤ Greeting audio play() FAILED: NotAllowedError: The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Greeting audio loaded - duration: 5.616326530612245 s
LOGInactivity timer cleared and reset
LOGğŸ“± Session start completed, checking state propagation...
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT voice input (final): Hello.
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667908971540.x1e1du7wfd
LOGAudio-only mode: Using /api/audio endpoint
LOGğŸ§  Memory settings: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGAcknowledgment not available, proceeding...
LOGğŸ”˜ Video button clicked, disabled=false, isVideoMode=false
LOGğŸ”„ handleModeToggle called: isVideoMode=true
LOGğŸ”„ Current state: audioOnly=true, sessionActive=true, isModeSwitching=false, isLoading=false
LOGğŸ”„ Avatar capabilities: enableVideoMode=true, enableAudioMode=true
LOGğŸ”„ switchTransportMode called: toVideoMode=true, newAudioOnly=false
LOGğŸ”„ Current state: audioOnlyRef=true, sessionActive=true, heygenSessionActive=false
LOGğŸ”„ Refs: sessionDriverRef exists=false, currentAvatarId=shawn
LOGğŸ”„ Switching transport: Audio â†’ Video
LOGğŸ“± Unlocking video element for mobile...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGğŸ“± Video element unlocked for mobile
LOGğŸ“± Unlocking mobile audio...
LOGğŸ›‘ Cancelling pending API request for mode switch
LOGğŸ”„ Checking if should start video: !newAudioOnly=true, wasAudioOnly=true
LOGğŸ”„ Entering video start block
LOGğŸ”„ Setting video element styles
LOGğŸ”„ Setting isLoading=true
LOGğŸ”„ Waiting 100ms for DOM update...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”„ Calling startHeyGenSession with avatarId=shawn
LOGğŸ¬ startLiveAvatarSession called: avatarId=shawn, skipGreeting=true
LOGğŸ¬ State check: audioOnlyRef=false, sessionDriverRef exists=false, heygenSessionActive=false
LOGStarting LiveAvatar session (mode switch - no greeting)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ” Avatar voice config check: heygenVoiceId="null", elevenlabsVoiceId="siLW09jHRl52Uawh1dt7"
LOGğŸ™ï¸ useElevenLabsVoiceRef set to: true
LOGğŸ™ï¸ Avatar Shawn will use ElevenLabs voice in video mode (no HeyGen voice configured)
LOGğŸ”§ Session start code version: 2024-12-07-v2
LOGğŸ“± Mobile detection for voice chat: true
LOGğŸ¬ Streaming platform: liveavatar
LOGğŸ¬ Using LiveAvatarDriver (newer SDK)
LOGğŸ™ï¸ LiveAvatarDriver: CUSTOM mode - Using ElevenLabs voice (session.repeatAudio) for Shawn
LOGğŸš€ LiveAvatarDriver.start() called for: shawn
LOGğŸ”‘ Fetching LiveAvatar session credentials for: shawn
LOGğŸ“¦ LiveAvatar session credentials received: [object Object]
LOGğŸ“‹ Creating LiveAvatar session: [object Object]
LOGğŸ”§ LiveAvatarDriver code version: 2024-12-09-v8 (no apiUrl override)
LOGğŸ¤ Voice input: ENABLED (using ElevenLabs STT)
LOGğŸ”„ Calling session.start() - SDK will connect to LiveKit...
LOGğŸ“Š LiveAvatar session state: CONNECTING
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¬ LiveAvatar SESSION_STREAM_READY event received
LOGğŸ“º Attaching video element via session.attach()...
LOGğŸ¬ LiveAvatar stream ready
LOGğŸ¤ HeyGen mobile voice chat active - microphone handled by SDK
LOGâ­ï¸ Skipping greeting - mode switch (seamless transition)
LOGğŸ¤ Starting voice recognition after seamless mode switch
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGâ­ï¸ Skipping voice recognition - using HeyGen's built-in voice chat (LiveKit WebRTC)
LOGğŸ“º Video track ready - updating videoReady state
LOGâœ… Video element attached via SDK - stream should be visible
LOGğŸ¤ Starting ElevenLabs STT after stream ready...
LOGğŸ¤ Starting ElevenLabs STT (replacing HeyGen's built-in STT)...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGâœ… Microphone access granted
LOGğŸ”Œ Connecting to ElevenLabs STT WebSocket: wss://avatar-chat-mark-r-emix-nigel43.replit.app/ws/elevenlabs-stt
LOGâœ… ElevenLabs STT started successfully
LOGğŸ“Š LiveAvatar session state: CONNECTED
LOGâœ… session.start() completed - waiting for SESSION_STREAM_READY event
LOGâœ… LiveAvatar session started - CUSTOM mode with Claude + RAG + ElevenLabs
LOGâœ… LiveAvatar session started
LOGâœ… HeyGen started - seamless switch to video mode (no greeting, conversation continues)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGâœ… ElevenLabs STT WebSocket connected
LOGsetStreamState active
LOGVideo loaded data
LOGVideo can play
LOGâœ… Video playing with audio
LOGâœ… ElevenLabs STT ready - starting audio capture
LOGâœ… Audio capture started - streaming PCM to ElevenLabs STT
LOGğŸ“º Video element state after attach: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT partial: foreign
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: Hello, hello.
LOGğŸ¤ User message from driver: Hello, hello.
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667909371390.a2p81qu87mv
LOGâ±ï¸ [TIMING] === FULL RESPONSE FLOW STARTED ===
LOGâ±ï¸ [TIMING] API call starting...
LOGğŸ” Driver audio streaming support: YES (LiveAvatarDriver)
LOGğŸ¯ [AUDIO-STREAMING] Using audio streaming mode for faster response
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“Š [STATUS] fetching_context: Gathering knowledge...
LOGâ±ï¸ [TIMING] Data fetch: 1196ms
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“Š [STATUS] generating: AI is thinking...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“ [AUDIO-STREAMING] Sentence 1: "Hi there!..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 2: "I'm Shawn...."
LOGğŸ¯ [AUDIO-STREAMING] First audio ready: 2945ms (type: sentence)
LOGğŸ¯ [AUDIO-STREAMING] Audio 1 (sentence): "Hi there!..."
LOGğŸ”Š [AUDIO-STREAMING] Audio index 1 (sentence) sent to SDK
LOGğŸ¯ [AUDIO-STREAMING] Audio 2 (sentence): "I'm Shawn...."
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 2 (sentence) sent to SDK
LOGğŸ“ [AUDIO-STREAMING] Sentence 3: "Based on the background info I see, I'm ready to d..."
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“ [AUDIO-STREAMING] Sentence 4: "or wellness topics...."
LOGğŸ¯ [AUDIO-STREAMING] Audio 3 (sentence): "Based on the background info I see, I'm ..."
LOGğŸ¯ [AUDIO-STREAMING] Audio 4 (sentence): "or wellness topics...."
LOGğŸ“ [AUDIO-STREAMING] Sentence 5: "What can I help you with today?..."
LOGğŸ¯ [AUDIO-STREAMING] Audio 5 (sentence): "What can I help you with today?..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 6: "Want to dive into leadership, career growth, or pe..."
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 3 (sentence) sent to SDK
LOGğŸ¯ [AUDIO-STREAMING] Audio 6 (sentence): "Want to dive into leadership, career gro..."
LOGğŸ¯ [AUDIO-STREAMING] === STREAMING COMPLETE ===
LOGğŸ¯ [AUDIO-STREAMING] Total audio chunks: 6
LOGğŸ¯ [AUDIO-STREAMING] First audio delay: 2945ms
LOGğŸ¯ [AUDIO-STREAMING] Time to first audio from backend: 2793ms
LOGğŸ¯ [AUDIO-STREAMING] Total time: 4664ms
LOGğŸ¯ [AUDIO-STREAMING] Backend breakdown: [object Object]
LOGğŸ“ USER MESSAGE: Hello, hello.
LOGğŸ¤– CLAUDE RESPONSE: Hi there! I'm Shawn. Based on the background info I see, I'm ready to discuss business strategy, personal development, or wellness topics. What can I help you with today? Want to dive into leadership, career growth, or personal transformation?
LOG---
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ”Š [AUDIO-STREAMING] Audio index 4 (sentence) sent to SDK
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 5 (sentence) sent to SDK
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 6 (sentence) sent to SDK
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] Audio queue fully processed
LOGInactivity timer cleared and reset
LOGâ±ï¸ [TIMING] === TOTAL FLOW TIME: 14111ms ===
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ”Š Resuming voice recognition (avatar finished speaking)
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGâ­ï¸ Skipping voice recognition - using HeyGen's built-in voice chat (LiveKit WebRTC)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ¤ ElevenLabs STT transcription: How to be the top dog at my company.
LOGğŸ¤ User message from driver: How to be the top dog at my company.
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGCleared speaking interval - user interrupted
LOGâœ… Processing message - Request ID: 17667909596950.b8a8cj80eui
LOGâ±ï¸ [TIMING] === FULL RESPONSE FLOW STARTED ===
LOGâ±ï¸ [TIMING] API call starting...
LOGğŸ” Driver audio streaming support: YES (LiveAvatarDriver)
LOGğŸ¯ [AUDIO-STREAMING] Using audio streaming mode for faster response
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“Š [STATUS] fetching_context: Gathering knowledge...
LOGâ±ï¸ [TIMING] Data fetch: 528ms
LOGğŸ“Š [STATUS] generating: AI is thinking...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“ [AUDIO-STREAMING] Sentence 1: "To be the top dog at your company, treat each day ..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 2: "intentional, mindful momentum...."
LOGğŸ¯ [AUDIO-STREAMING] First audio ready: 3013ms (type: sentence)
LOGğŸ¯ [AUDIO-STREAMING] Audio 2 (sentence): "intentional, mindful momentum...."
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT partial: (horse galloping)
LOGğŸ¯ [AUDIO-STREAMING] Audio 1 (sentence): "To be the top dog at your company, treat..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 3: "Create daily rituals that remove static and sharpe..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 4: "less anxiety, clearer thoughts, deeper strategic t..."
LOGğŸ”Š [AUDIO-STREAMING] Audio index 1 (sentence) sent to SDK
LOGğŸ¯ [AUDIO-STREAMING] Audio 3 (sentence): "Create daily rituals that remove static ..."
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] Audio 4 (sentence): "less anxiety, clearer thoughts, deeper s..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 5: "Keep showing up consistently - every professional ..."
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ¯ [AUDIO-STREAMING] Audio 5 (sentence): "Keep showing up consistently - every pro..."
LOGğŸ¯ [AUDIO-STREAMING] === STREAMING COMPLETE ===
LOGğŸ¯ [AUDIO-STREAMING] Total audio chunks: 5
LOGğŸ¯ [AUDIO-STREAMING] First audio delay: 3013ms
LOGğŸ¯ [AUDIO-STREAMING] Time to first audio from backend: 2848ms
LOGğŸ¯ [AUDIO-STREAMING] Total time: 4362ms
LOGğŸ¯ [AUDIO-STREAMING] Backend breakdown: [object Object]
LOGğŸ“ USER MESSAGE: How to be the top dog at my company.
LOGğŸ¤– CLAUDE RESPONSE: To be the top dog at your company, treat each day like a microdose of professional growth - with intentional, mindful momentum. Create daily rituals that remove static and sharpen your awareness, focusing on what's not there: less anxiety, clearer thoughts, deeper strategic thinking. Keep showing up consistently - every professional action is a vote for your future, more successful self.
LOG---
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 2 (sentence) sent to SDK
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 3 (sentence) sent to SDK
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”˜ Audio button clicked, disabled=false, isVideoMode=true
LOGğŸ”„ handleModeToggle called: isVideoMode=false
LOGğŸ”„ Current state: audioOnly=false, sessionActive=true, isModeSwitching=false, isLoading=false
LOGğŸ”„ Avatar capabilities: enableVideoMode=true, enableAudioMode=true
LOGğŸ”„ switchTransportMode called: toVideoMode=false, newAudioOnly=true
LOGğŸ”„ Current state: audioOnlyRef=false, sessionActive=true, heygenSessionActive=true
LOGğŸ”„ Refs: sessionDriverRef exists=true, currentAvatarId=shawn
LOGğŸ”„ Switching transport: Video â†’ Audio
LOGğŸ“± Unlocking mobile audio...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
ERRORğŸ“± Failed to unlock mobile audio: AbortError: The operation was aborted.
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ›‘ Cancelling pending API request for mode switch
LOGğŸ›‘ Stopping LiveAvatar session...
LOGğŸ›‘ Stopping ElevenLabs STT...
LOGâœ… ElevenLabs STT stopped
LOGğŸ“µ Stopping LiveAvatar SDK session...
LOGğŸ“Š LiveAvatar session state: DISCONNECTING
LOGğŸ“Š LiveAvatar session state: DISCONNECTED
LOGğŸ“µ LiveAvatar stream disconnected: CLIENT_INITIATED
LOGğŸ“µ Stream disconnected - intentionalStop flag: true
LOGâœ… LiveAvatar session stopped and resources released
INFOdisconnect from room [object Object]
LOGâœ… Avatar stopped - switched to audio mode (session preserved)
LOGğŸ”„ Checking if should start video: !newAudioOnly=false, wasAudioOnly=false
LOGğŸ¤ Restarting voice recognition after audio mode switch
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGâš ï¸ ElevenLabs STT in incomplete/stale state - cleaning up and restarting
LOGğŸ¤ Starting ElevenLabs STT for mobile... [object Object]
LOGğŸ¤ Stopping ElevenLabs STT...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“µ ElevenLabs STT WebSocket closed
LOGğŸ¤ ElevenLabs STT WebSocket closed
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT WebSocket connected successfully
LOGğŸ¤ ElevenLabs STT ready - starting microphone
LOGğŸ¤ Requesting microphone access for ElevenLabs STT...
LOGğŸ¤ ElevenLabs STT microphone listening
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Voice recognition already running
LOGğŸ¯ [AUDIO-STREAMING] Audio queue fully processed
LOGInactivity timer cleared and reset
LOGâ±ï¸ [TIMING] === TOTAL FLOW TIME: 13843ms ===
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGCleared speaking interval - user interrupted
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ¤ ElevenLabs STT voice input (final): Hey there. How do I become top dog?
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667909982360.guurmx3r8hh
LOGAudio-only mode: Using /api/audio endpoint
LOGğŸ§  Memory settings: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGAcknowledgment not available, proceeding...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOG
ğŸ§ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOGğŸ§ AUDIO MODE - Shawn
LOGğŸ§ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOGğŸ“¥ USER: "Hey there. How do I become top dog?"
LOGğŸ“¤ CLAUDE RESPONSE:
LOGâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LOGTo become a top performer, focus on three key strategies: continuous learning, building strategic relationships, and consistently delivering exceptional results. Develop a growth mindset, seek mentorship, and always go beyond what's expected in your role. Would you like me to break down specific tactics for professional advancement?
LOGâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LOGğŸ“Š Response: 334 chars
LOGğŸ§ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOGğŸ”‡ Acknowledgment audio stopped
LOGğŸ”Š Audio blob received: 303.3 KB, type: audio/mpeg
LOGğŸ”Š Audio element configured, volume: 1, muted: false, unlocked: false
ERRORğŸ“± Failed to unlock mobile audio: AbortError: The operation was aborted.
LOGğŸ”Š Audio metadata loaded: duration=19.41s, volume=1
LOGğŸ”Š Audio playback STARTED via shared element - duration: 19.41s
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š Audio playback ENDED successfully
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGâš ï¸ ElevenLabs STT in incomplete/stale state - cleaning up and restarting
LOGğŸ¤ Starting ElevenLabs STT for mobile... [object Object]
LOGğŸ¤ Stopping ElevenLabs STT...
LOGğŸ”Š Voice recognition resumed (audio-only mode - avatar finished)
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORğŸ¤ ElevenLabs STT WebSocket error: [object Event]
LOGğŸ¤ ElevenLabs STT WebSocket closed
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT WebSocket connected successfully
LOGğŸ¤ ElevenLabs STT ready - starting microphone
LOGğŸ¤ Requesting microphone access for ElevenLabs STT...
LOGğŸ¤ ElevenLabs STT microphone listening
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸŒ Loaded avatar language: en-US
LOGğŸ›ï¸ Loaded avatar capabilities: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“± Unlocking mobile audio on user gesture...
LOGğŸ“± Unlocking mobile audio...
LOGğŸ”Š Audio metadata loaded: duration=0.00s, volume=1
ERRORğŸ”Š Audio playback ERROR: [object Event] [object MediaError]
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGâ­ï¸ ElevenLabs STT already active (verified all components including live audio)
ERRORğŸ“± Failed to unlock mobile audio: AbortError: The operation was aborted.
LOGğŸ–¼ï¸ Render state: [object Object]
LOGAudio-only mode: Video disabled, session registered
LOGğŸ“± Warming up microphone...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“± Tab became visible - resuming audio contexts...
LOGğŸ¤ Restarting voice recognition after tab visibility change
LOGğŸ“± Microphone warmed up successfully
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGâ­ï¸ ElevenLabs STT already active (verified all components including live audio)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGğŸ¤ Using ElevenLabs STT for voice input (mobile-compatible)
LOGğŸ¤ ElevenLabs STT state check: [object Object]
LOGâ­ï¸ ElevenLabs STT already active (verified all components including live audio)
LOGğŸ—£ï¸ Audio-only greeting: Good to have you here. I'm Mark. Jump in whenever you want to respond. Let's see what wants to emerge.
LOGğŸ¤ Fetching greeting audio from ElevenLabs...
LOGğŸ”Š Acknowledgment pre-cache triggered for: mark-kohl (already cached)
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ”Š Acknowledgment audio preloaded for: mark-kohl
LOGğŸ¤ Greeting audio response status: 200
LOGğŸ¤ Greeting audio blob size: 82382 bytes, type: audio/mpeg
LOGğŸ¤ Attempting to play greeting audio...
ERRORğŸ¤ Greeting audio play() FAILED: NotAllowedError: The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Greeting audio loaded - duration: 5.12 s
LOGInactivity timer cleared and reset
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ–¼ï¸ Render state: [object Object]
ERRORError parsing ElevenLabs STT message: TypeError: undefined is not an object (evaluating 'g.trim')
LOGğŸ¤ ElevenLabs STT voice input (final): Hey Mark, what's going on?
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667910446230.kjmy7vskrki
LOGAudio-only mode: Using /api/audio endpoint
LOGğŸ§  Memory settings: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGAcknowledgment not available, proceeding...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOG
ğŸ§ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOGğŸ§ AUDIO MODE - Mark Kohl
LOGğŸ§ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOGğŸ“¥ USER: "Hey Mark, what's going on?"
LOGğŸ“¤ CLAUDE RESPONSE:
LOGâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LOGHey there! Just been diving deep into some fascinating mycological research and preparing for an upcoming Kundalini meditation workshop. How are you doing today?
LOGâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LOGğŸ“Š Response: 161 chars
LOGğŸ§ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOGğŸ”‡ Acknowledgment audio stopped
LOGğŸ”Š Audio blob received: 145.8 KB, type: audio/mpeg
LOGğŸ”Š Audio element configured, volume: 1, muted: false, unlocked: false
LOGğŸ”Š Audio metadata loaded: duration=9.33s, volume=1
LOGğŸ”Š Audio playback STARTED via shared element - duration: 9.33s
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”˜ Video button clicked, disabled=false, isVideoMode=false
LOGğŸ”„ handleModeToggle called: isVideoMode=true
LOGğŸ”„ Current state: audioOnly=true, sessionActive=true, isModeSwitching=false, isLoading=false
LOGğŸ”„ Avatar capabilities: enableVideoMode=true, enableAudioMode=true
LOGğŸ”„ switchTransportMode called: toVideoMode=true, newAudioOnly=false
LOGğŸ”„ Current state: audioOnlyRef=true, sessionActive=true, heygenSessionActive=false
LOGğŸ”„ Refs: sessionDriverRef exists=false, currentAvatarId=mark-kohl
LOGğŸ”„ Switching transport: Audio â†’ Video
LOGğŸ“± Unlocking video element for mobile...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGğŸ“± Video element unlocked for mobile
LOGğŸ“± Unlocking mobile audio...
LOGğŸ”Š Audio metadata loaded: duration=0.00s, volume=1
ERRORğŸ”Š Audio playback ERROR: [object Event] [object MediaError]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”„ Checking if should start video: !newAudioOnly=true, wasAudioOnly=true
LOGğŸ”„ Entering video start block
LOGğŸ”„ Setting video element styles
LOGğŸ”„ Setting isLoading=true
LOGğŸ”„ Waiting 100ms for DOM update...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”„ Calling startHeyGenSession with avatarId=mark-kohl
LOGğŸ¬ startLiveAvatarSession called: avatarId=mark-kohl, skipGreeting=true
LOGğŸ¬ State check: audioOnlyRef=false, sessionDriverRef exists=false, heygenSessionActive=false
LOGStarting LiveAvatar session (mode switch - no greeting)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ” Avatar voice config check: heygenVoiceId="null", elevenlabsVoiceId="Am7G7QzYkKkdR8bmdQqY"
LOGğŸ™ï¸ useElevenLabsVoiceRef set to: true
LOGğŸ™ï¸ Avatar Mark Kohl will use ElevenLabs voice in video mode (no HeyGen voice configured)
LOGğŸ”§ Session start code version: 2024-12-07-v2
LOGğŸ“± Mobile detection for voice chat: true
LOGğŸ¬ Streaming platform: liveavatar
LOGğŸ¬ Using LiveAvatarDriver (newer SDK)
LOGğŸ™ï¸ LiveAvatarDriver: CUSTOM mode - Using ElevenLabs voice (session.repeatAudio) for Mark Kohl
LOGğŸš€ LiveAvatarDriver.start() called for: mark-kohl
LOGğŸ”‘ Fetching LiveAvatar session credentials for: mark-kohl
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“¦ LiveAvatar session credentials received: [object Object]
LOGğŸ“‹ Creating LiveAvatar session: [object Object]
LOGğŸ”§ LiveAvatarDriver code version: 2024-12-09-v8 (no apiUrl override)
LOGğŸ¤ Voice input: ENABLED (using ElevenLabs STT)
LOGğŸ”„ Calling session.start() - SDK will connect to LiveKit...
LOGğŸ“Š LiveAvatar session state: CONNECTING
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¬ LiveAvatar SESSION_STREAM_READY event received
LOGğŸ“º Attaching video element via session.attach()...
LOGğŸ¬ LiveAvatar stream ready
LOGğŸ¤ HeyGen mobile voice chat active - microphone handled by SDK
LOGâ­ï¸ Skipping greeting - mode switch (seamless transition)
LOGğŸ¤ Starting voice recognition after seamless mode switch
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGâ­ï¸ Skipping voice recognition - using HeyGen's built-in voice chat (LiveKit WebRTC)
LOGğŸ“º Video track ready - updating videoReady state
LOGâœ… Video element attached via SDK - stream should be visible
LOGğŸ¤ Starting ElevenLabs STT after stream ready...
LOGğŸ¤ Starting ElevenLabs STT (replacing HeyGen's built-in STT)...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGâœ… Microphone access granted
LOGğŸ”Œ Connecting to ElevenLabs STT WebSocket: wss://avatar-chat-mark-r-emix-nigel43.replit.app/ws/elevenlabs-stt
LOGâœ… ElevenLabs STT started successfully
LOGğŸ“Š LiveAvatar session state: CONNECTED
LOGâœ… session.start() completed - waiting for SESSION_STREAM_READY event
LOGâœ… LiveAvatar session started - CUSTOM mode with Claude + RAG + ElevenLabs
LOGâœ… LiveAvatar session started
LOGâœ… HeyGen started - seamless switch to video mode (no greeting, conversation continues)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGsetStreamState active
LOGVideo loaded data
LOGVideo can play
LOGâœ… Video playing with audio
LOGâœ… ElevenLabs STT WebSocket connected
LOGâœ… ElevenLabs STT ready - starting audio capture
LOGâœ… Audio capture started - streaming PCM to ElevenLabs STT
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“º Video element state after attach: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: Oh
LOGğŸ¤ User message from driver: Oh
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667910615690.cgfagccrlq
LOGâ±ï¸ [TIMING] === FULL RESPONSE FLOW STARTED ===
LOGâ±ï¸ [TIMING] API call starting...
LOGğŸ” Driver audio streaming support: YES (LiveAvatarDriver)
LOGğŸ¯ [AUDIO-STREAMING] Using audio streaming mode for faster response
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“Š [STATUS] fetching_context: Gathering knowledge...
LOGâ±ï¸ [TIMING] Data fetch: 1097ms
LOGğŸ“Š [STATUS] generating: AI is thinking...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“ [AUDIO-STREAMING] Sentence 1: "I'm sorry, but your message "Oh" doesn't seem to b..."
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] First audio ready: 4034ms (type: sentence)
LOGğŸ¯ [AUDIO-STREAMING] Audio 1 (sentence): "I'm sorry, but your message "Oh" doesn't..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 2: "Would you like to ask me something specific about ..."
LOGğŸ”Š [AUDIO-STREAMING] Audio index 1 (sentence) sent to SDK
LOGğŸ“ [AUDIO-STREAMING] Sentence 3: "available?..."
LOGğŸ¯ [AUDIO-STREAMING] Audio 2 (sentence): "Would you like to ask me something speci..."
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] Audio 3 (sentence): "available?..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 4: "I'm ready to help you with concise, focused inform..."
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] Audio 4 (sentence): "I'm ready to help you with concise, focu..."
LOGğŸ¯ [AUDIO-STREAMING] === STREAMING COMPLETE ===
LOGğŸ¯ [AUDIO-STREAMING] Total audio chunks: 4
LOGğŸ¯ [AUDIO-STREAMING] First audio delay: 4034ms
LOGğŸ¯ [AUDIO-STREAMING] Time to first audio from backend: 3662ms
LOGğŸ¯ [AUDIO-STREAMING] Total time: 4885ms
LOGğŸ¯ [AUDIO-STREAMING] Backend breakdown: [object Object]
LOGğŸ“ USER MESSAGE: Oh
LOGğŸ¤– CLAUDE RESPONSE: I'm sorry, but your message "Oh" doesn't seem to be a clear question. Would you like to ask me something specific about longevity, biohacking, or the content I have available? I'm ready to help you with concise, focused information.
LOG---
LOGğŸ¤ ElevenLabs STT partial: oh
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ”Š [AUDIO-STREAMING] Audio index 2 (sentence) sent to SDK
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 3 (sentence) sent to SDK
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 4 (sentence) sent to SDK
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] Audio queue fully processed
LOGInactivity timer cleared and reset
LOGâ±ï¸ [TIMING] === TOTAL FLOW TIME: 14348ms ===
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š Resuming voice recognition (avatar finished speaking)
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGâ­ï¸ Skipping voice recognition - using HeyGen's built-in voice chat (LiveKit WebRTC)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ”Š Resuming voice recognition (avatar finished speaking)
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGâ­ï¸ Skipping voice recognition - using HeyGen's built-in voice chat (LiveKit WebRTC)
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGCleared speaking interval - user interrupted
LOGğŸ¤ ElevenLabs STT transcription: Can you make me a video on how to grow psilocybin?
LOGğŸ¤ User message from driver: Can you make me a video on how to grow psilocybin?
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667910862800.ktdpqlkh3ma
LOGâ±ï¸ [TIMING] === FULL RESPONSE FLOW STARTED ===
LOGâ±ï¸ [TIMING] API call starting...
LOGğŸ” Driver audio streaming support: YES (LiveAvatarDriver)
LOGğŸ¯ [AUDIO-STREAMING] Using audio streaming mode for faster response
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¯ [AUDIO-STREAMING] Audio queue fully processed
LOGInactivity timer cleared and reset
LOGâ±ï¸ [TIMING] === TOTAL FLOW TIME: 459ms ===
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGâ±ï¸ [TIMING] API response received: 6606ms
LOGâ±ï¸ [TIMING] === BACKEND BREAKDOWN ===
LOGâ±ï¸ [TIMING] â”œâ”€ Total backend: 5927ms
LOGâ±ï¸ [TIMING] â”œâ”€ Data fetch (parallel): 1047ms
LOGâ±ï¸ [TIMING] â”‚  â””â”€ Knowledge (Pinecone): 1045ms
LOGâ±ï¸ [TIMING] â””â”€ Claude AI: 4880ms
LOGClaude response received: I'd be happy to create a video about growing psilocybin mushrooms for you!

The video will cover the...
LOGInactivity timer cleared and reset
LOGCleared speaking interval - user interrupted
LOGğŸ—£ï¸ SENDING TO AVATAR - Text length: 387 characters
LOGâ±ï¸ [TIMING] Avatar speak() starting...
LOGğŸ™ï¸ CUSTOM mode: Using ElevenLabs voice via session.repeatAudio()
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Got base64 PCM audio (1634688 chars), sending to SDK...
LOGğŸ”Š Audio sent to SDK for lip-sync playback
LOGâ±ï¸ [TIMING] speak() completed: 3195ms
LOGâ±ï¸ [TIMING] === TOTAL FLOW TIME: 9821ms ===
LOGâœ… Speak completed successfully
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGCleared speaking interval - user interrupted
LOGResetting timer during avatar speech
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š Resuming voice recognition (avatar finished speaking)
LOGğŸ”§ Voice recognition code version: 2024-12-09-elevenlabs-primary
LOGâ­ï¸ Skipping voice recognition - using HeyGen's built-in voice chat (LiveKit WebRTC)
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ ElevenLabs STT transcription: yes
LOGğŸ¤ User message from driver: yes
LOGğŸ“ handleSubmitMessage called with: [object Object]
LOGğŸ”‡ ElevenLabs STT microphone paused (processing user message)
LOGInactivity timer cleared and reset
LOGâœ… Processing message - Request ID: 17667911282050.bluy62wg4yf
LOGâ±ï¸ [TIMING] === FULL RESPONSE FLOW STARTED ===
LOGâ±ï¸ [TIMING] API call starting...
LOGğŸ” Driver audio streaming support: YES (LiveAvatarDriver)
LOGğŸ¯ [AUDIO-STREAMING] Using audio streaming mode for faster response
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“Š [STATUS] fetching_context: Gathering knowledge...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGâ±ï¸ [TIMING] Data fetch: 1270ms
LOGğŸ“Š [STATUS] generating: AI is thinking...
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“ [AUDIO-STREAMING] Sentence 1: "The "yes" doesn't specify a context, so I'll pause..."
LOGğŸ“ [AUDIO-STREAMING] Sentence 2: "confirming or asking about...."
LOGğŸ“ [AUDIO-STREAMING] Sentence 3: "Want to give me more details?..."
LOGğŸ¯ [AUDIO-STREAMING] First audio ready: 3899ms (type: sentence)
LOGğŸ¯ [AUDIO-STREAMING] Audio 2 (sentence): "confirming or asking about...."
LOGğŸ¯ [AUDIO-STREAMING] Audio 1 (sentence): "The "yes" doesn't specify a context, so ..."
LOGğŸ”Š [AUDIO-STREAMING] Audio index 1 (sentence) sent to SDK
LOGğŸ¯ [AUDIO-STREAMING] Audio 3 (sentence): "Want to give me more details?..."
LOGğŸ¯ [AUDIO-STREAMING] === STREAMING COMPLETE ===
LOGğŸ¯ [AUDIO-STREAMING] Total audio chunks: 3
LOGğŸ¯ [AUDIO-STREAMING] First audio delay: 3899ms
LOGğŸ¯ [AUDIO-STREAMING] Time to first audio from backend: 3641ms
LOGğŸ¯ [AUDIO-STREAMING] Total time: 4280ms
LOGğŸ¯ [AUDIO-STREAMING] Backend breakdown: [object Object]
LOGğŸ“ USER MESSAGE: yes
LOGğŸ¤– CLAUDE RESPONSE: The "yes" doesn't specify a context, so I'll pause and wait for you to clarify what you're confirming or asking about. Want to give me more details?
LOG---
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤« Avatar stopped speaking
LOGğŸ¤ Avatar stopped talking, will resume voice recognition in 3500 ms
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ—£ï¸ Avatar started speaking
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ”Š [AUDIO-STREAMING] Audio index 2 (sentence) sent to SDK
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ¤ Skip resume: intentionalStop= false isSpeaking= true
LOGğŸ”Š [AUDIO-STREAMING] Audio index 3 (sentence) sent to SDK
LOGğŸ¤ ElevenLabs STT transcription: 
LOGğŸ“± Tab became hidden - stopping avatar session to release resources...
LOGğŸ›‘ Stopping LiveAvatar session...
LOGğŸ›‘ Stopping ElevenLabs STT...
ERRORğŸ“± Failed to unlock mobile audio: AbortError: The operation was aborted.
LOGâœ… ElevenLabs STT stopped
LOGğŸ“µ Stopping LiveAvatar SDK session...
LOGğŸ“Š LiveAvatar session state: DISCONNECTING
LOGğŸ“Š LiveAvatar session state: DISCONNECTED
LOGğŸ“µ LiveAvatar stream disconnected: CLIENT_INITIATED
LOGğŸ“µ Stream disconnected - intentionalStop flag: true
LOGâœ… LiveAvatar session stopped and resources released
INFOdisconnect from room [object Object]
LOGâœ… Avatar session stopped (tab hidden)
WARNINGdetected connection state mismatch [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ“µ ElevenLabs STT WebSocket closed
LOGğŸ¯ [AUDIO-STREAMING] Audio queue fully processed
LOGInactivity timer cleared and reset
LOGâ±ï¸ [TIMING] === TOTAL FLOW TIME: 11270ms ===
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]
LOGInactivity timer cleared and reset
LOGCleared speaking interval - user interrupted
LOGğŸ–¼ï¸ Render state: [object Object]
LOGğŸ–¼ï¸ Render state: [object Object]